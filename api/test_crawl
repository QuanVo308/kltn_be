from selenium import webdriver
from bs4 import BeautifulSoup
import pandas as pd
from webdriver_manager.chrome import ChromeDriverManager
from selenium.webdriver.chrome.service import Service

driver = webdriver.Chrome("D:\Downloads\chromedriver_win32\chromedriver.exe")

# driver = webdriver.Chrome(service=Service(ChromeDriverManager().install()))

products=[] #List to store name of the product
prices=[] #List to store price of the product
images=[] #List to store rating of the product
product_links=[]

# driver.get("https://www.flipkart.com/laptops/~buyback-guarantee-on-laptops-/pr?sid=6bo%2Cb5g&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;uniq")

# driver.get("https://www.flipkart.com/mobiles/mi~brand/pr?sid=tyy,4io&otracker=nmenu_sub_Electronics_0_Mi")
driver.get("https://www.lazada.vn/products/dien-thoai-xiaomi-12-lite-5g-8gb128gb-655-full-hd-chinh-hang-hoang-ha-mobile-i2183317425-s10353543732.html?spm=a2o4n.pdp_revamp.recommend_2.2.38a1dfaeXCwmcp&mp=1&cid=101100023872312&mp=1&impsrc=&ad_src=4700_3002:9179,1100_100:0.234342684914154&pid_pvid=28a95684133fb2caf14259c4d01e50e0&sub_product_id=F&pvtime=1678047025&member_id=222231400&mp=1&cpc=50000&originalCpc=330200&highest_price=330200&adFlag=3&pdp_item=2194540074&pa=sponsored_bottom&did=75e89e06-e945-44d9-9d1a-ab8f4184efe0&adid=0&bucketId=0&sellerId=200314464336&itemId=2183317425&ncid=101100023872312&adgroup_id=1364074279&creative_id=0&brand_id=4348&category_id=4518&pvid=75e89e06-e945-44d9-9d1a-ab8f4184efe0&abid=0,237633,12786048,12656132,16681078,12919116,12449264,20139554,12524908,12700244,11989614,21120666,12189920,15236788,12950436,12192856,17598570,18243582,240363,13243616,12616746,207849,12523218,12575250,12900842,20973810,12575180,12559242,14620714,8460342,21375038,21374974,21375870,13296946,16853112,12793016,10909594,12091908,13057466&nick=&pos=-1&regional_key=010100000000&impsrc=&crowd_id=&one_id=&")

content = driver.page_source
soup = BeautifulSoup(content, "html.parser")
t = ""
# print(soup.findAll('div',attrs={"class":"_1AtVbE col-12-12"}))
for a in soup.find_all('img', attrs={"class":"pdp-mod-common-image item-gallery__thumbnail-image"}):
    print('check')
    # name=a.find('div', attrs={'class':'_4rR01T'})
    # price=a.find('div', attrs={'class':'_30jeq3 _1_WHN1'})
    # image=a.find('img', attrs={'class':'_396cs4'})
    # link = a.find('div', attrs={"class":"item-gallery__image-wrapper"})
    try:
        print(a['src'])
        # image['src']
        # name.text
        # price.text
        # products.append(name.text)
        # prices.append(price.text)
        # images.append(image['src'])
        # product_links.append(link['href']) 
    except Exception as e:
        print(e)
        pass


# df = pd.DataFrame({'Product Name':products,'Price':prices,'Rating':images}) 
# df.to_csv('products.csv', index=False, encoding='utf-8')

